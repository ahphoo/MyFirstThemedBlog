<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
      <title> Algostructures | Reverse Bits </title>     
      <link rel="stylesheet" href="https://ahphoo.github.io/main.css">
      <link rel="icon" href="https://i.pinimg.com/736x/67/5f/bf/675fbf80eabf11721c93f345a156b40f.jpg">
    </head>

    <body>
      <nav>
        <div id="subnav">
          <form class="theme-selector">
            <button type="button" id="theme-light-button" class="theme-button" onclick="enableTheme('light', true)">&#9706;</button>
            <button type="button" id="theme-dark-button"  class="theme-button enabled" onclick="enableTheme('dark', true)">&#9705;</button>
          </form>
          <a href="/search">&#8981;</a>       
        </div>

      
  <ul id="breadcrumbs">
    
      
      <li><a href="https:&#x2F;&#x2F;ahphoo.github.io&#x2F;">Algostructures</a>&nbsp;&#8594;&nbsp;</li> 
    
      
      <li><a href="https:&#x2F;&#x2F;ahphoo.github.io&#x2F;Yang Shun Handbook&#x2F;">Yang Shun Handbook</a>&nbsp;&#8594;&nbsp;</li> 
    
      
      <li><a href="https:&#x2F;&#x2F;ahphoo.github.io&#x2F;Yang Shun Handbook&#x2F;Binary&#x2F;">Binary</a>&nbsp;&#8594;&nbsp;</li> 
    
  </ul>
  <h1>Reverse Bits</h1><em></em> 

      </nav>

      <main>
      
  <div id="taxonomies">
    
      <date>14.05.2020</date>
       

    
      <ul>
      
        <li><a href="https://ahphoo.github.io/authors/allan-phu/" >Allan Phu</a></li>
      
     </ul>
    
    
    
      <ul>
      
        <li><a href="https://ahphoo.github.io/tags/binary/" >#Binary</a></li>
      
      </ul>
    
  </div>

  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  

  
      <ul id="toc">
        
          <li><a href="https://ahphoo.github.io/Yang Shun Handbook/Binary/reverse-bits/#problem-link">Problem Link</a>
          
        </li>
  
          <li><a href="https://ahphoo.github.io/Yang Shun Handbook/Binary/reverse-bits/#how-to-solve">How to solve</a>
          
        </li>
  
          <li><a href="https://ahphoo.github.io/Yang Shun Handbook/Binary/reverse-bits/#complexity-analysis">Complexity Analysis</a>
          
        </li>
  
          <li><a href="https://ahphoo.github.io/Yang Shun Handbook/Binary/reverse-bits/#time-o-n-log-n">Time: O(N log N)</a>
          
        </li>
  
          <li><a href="https://ahphoo.github.io/Yang Shun Handbook/Binary/reverse-bits/#space-o-1">Space: O(1)</a>
          
        </li>
  
          <li><a href="https://ahphoo.github.io/Yang Shun Handbook/Binary/reverse-bits/#solutions">Solutions</a>
          
        </li>
  
          <li><a href="https://ahphoo.github.io/Yang Shun Handbook/Binary/reverse-bits/#python">Python</a>
          
        </li>
  
          <li><a href="https://ahphoo.github.io/Yang Shun Handbook/Binary/reverse-bits/#go">Go</a>
          
        </li>
  
          <li><a href="https://ahphoo.github.io/Yang Shun Handbook/Binary/reverse-bits/#rust">Rust</a>
          
        </li>
  
      </ul>
  

  <article>
    <h2 id="problem-link">Problem Link</h2>
<p><a href="https://leetcode.com/problems/reverse-bits/">https://leetcode.com/problems/reverse-bits/</a></p>
<h2 id="how-to-solve">How to solve</h2>
<p>We can solve this problem using Divide-and-Conquer. Given a 32-bit integer, we can break up the problem into several subproblems. Our subproblem is to reverse half of the bits. To do this, we can take the first 16 bits and swap them with the last 16 bits. Note that not all bits within each group of 16 bits are sorted relative to each other. Within each group of 16 bits, we swap the first 8 bits with the last 8 bits. We repeat this partitioning until we get our reversed number.</p>
<h2 id="complexity-analysis">Complexity Analysis</h2>
<h2 id="time-o-n-log-n">Time: O(N log N)</h2>
<p>Second case of Master's Theorem. We mask off 2 * <code>N/2</code> bits. Then we combine <code>N</code> bits. We repeat on a subproblem of size <code>N/2</code>.</p>
<h2 id="space-o-1">Space: O(1)</h2>
<p>We save the results of our bit operations into <code>n</code>.</p>
<h2 id="solutions">Solutions</h2>
<h2 id="python">Python</h2>
<pre style="background-color:#383838;">
<span style="font-style:italic;color:#3bc0f0;">def </span><span style="color:#ffc66d;">reverseBits</span><span style="color:#e6e1dc;">(</span><span style="font-style:italic;color:#fd971f;">self</span><span style="color:#e6e1dc;">, </span><span style="font-style:italic;color:#fd971f;">n</span><span style="color:#e6e1dc;">: </span><span style="font-style:italic;color:#6e9cbe;">int</span><span style="color:#e6e1dc;">) -&gt; </span><span style="font-style:italic;color:#6e9cbe;">int</span><span style="color:#e6e1dc;">:
    n </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">n </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">16 </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">n </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">16
    </span><span style="color:#e6e1dc;">n </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xFF00FF00</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">8  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x00FF00FF</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">8
    </span><span style="color:#e6e1dc;">n </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xF0F0F0F0</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">4  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x0F0F0F0F</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">4
    </span><span style="color:#e6e1dc;">n </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xCCCCCCCC</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">2  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x33333333</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">2
    </span><span style="color:#e6e1dc;">n </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xAAAAAAAA</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">1  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x55555555</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">1
    </span><span style="color:#cc7833;">return </span><span style="color:#e6e1dc;">n
</span></pre><h2 id="go">Go</h2>
<pre style="background-color:#383838;">
<span style="font-style:italic;color:#6e9cbe;">func </span><span style="color:#ffc66d;">reverseBits</span><span style="color:#e6e1dc;">(</span><span style="font-style:italic;color:#fd971f;">num </span><span style="font-style:italic;color:#6e9cbe;">uint32</span><span style="color:#e6e1dc;">) </span><span style="font-style:italic;color:#6e9cbe;">uint32 </span><span style="color:#e6e1dc;">{
    num </span><span style="color:#cc7833;">=</span><span style="color:#e6e1dc;"> num </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">16 </span><span style="color:#cc7833;">|</span><span style="color:#e6e1dc;"> num </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">16</span><span style="color:#e6e1dc;">
    num </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(num </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xFF00FF00</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">8  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(num </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x00FF00FF</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">8</span><span style="color:#e6e1dc;">
    num </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(num </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xF0F0F0F0</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">4  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(num </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x0F0F0F0F</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">4</span><span style="color:#e6e1dc;">
    num </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(num </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xCCCCCCCC</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">2  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(num </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x33333333</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">2</span><span style="color:#e6e1dc;">
    num </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(num </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xAAAAAAAA</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">1  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(num </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x55555555</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">1
    </span><span style="color:#cc7833;">return</span><span style="color:#e6e1dc;"> num
}
</span></pre><h2 id="rust">Rust</h2>
<pre style="background-color:#383838;">
<span style="color:#cc7833;">pub </span><span style="font-style:italic;color:#6e9cbe;">fn </span><span style="color:#ffc66d;">reverse_bits</span><span style="color:#e6e1dc;">(</span><span style="font-style:italic;color:#fd971f;">num</span><span style="color:#e6e1dc;">: </span><span style="font-style:italic;color:#6e9cbe;">u32</span><span style="color:#e6e1dc;">) -&gt; </span><span style="font-style:italic;color:#6e9cbe;">u32 </span><span style="color:#e6e1dc;">{
    </span><span style="font-style:italic;color:#6e9cbe;">let </span><span style="color:#cc7833;">mut</span><span style="color:#e6e1dc;"> n </span><span style="color:#cc7833;">=</span><span style="color:#e6e1dc;"> num;
    n </span><span style="color:#cc7833;">=</span><span style="color:#e6e1dc;"> n </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">16 </span><span style="color:#cc7833;">|</span><span style="color:#e6e1dc;"> n </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">16</span><span style="color:#e6e1dc;">;
    n </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xFF00FF00</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">8  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x00FF00FF</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">8</span><span style="color:#e6e1dc;">;
    n </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xF0F0F0F0</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">4  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x0F0F0F0F</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">4</span><span style="color:#e6e1dc;">;
    n </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xCCCCCCCC</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">2  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x33333333</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">2</span><span style="color:#e6e1dc;">;
    n </span><span style="color:#cc7833;">= </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0xAAAAAAAA</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&gt;&gt; </span><span style="color:#a5c261;">1  </span><span style="color:#cc7833;">| </span><span style="color:#e6e1dc;">(n </span><span style="color:#cc7833;">&amp; </span><span style="color:#a5c261;">0x55555555</span><span style="color:#e6e1dc;">) </span><span style="color:#cc7833;">&lt;&lt; </span><span style="color:#a5c261;">1</span><span style="color:#e6e1dc;">;
    n
}
</span></pre>
  </article>

      </main>

      <script type="text/javascript" src="https://ahphoo.github.io/themes.js"></script>

      <script>
        function burger() {
          var x = document.getElementById("bger");
          if (x.style.display === "block") {
            x.style.display = "none";
          } else {
            x.style.display = "block";
          }
        }
        </script>
    </body>
</html>
